import{S as Y,i as Z,s as $,e as f,k as q,t as O,O as ee,c as p,d as g,m as L,a as M,h as H,b as t,N as te,H as a,g as x,P as J,Q as F,j as le,R as X,n as W,T as se,w as ae,U as ne,V as j}from"../chunks/index-da0e81ae.js";const{document:B}=ne;function oe(r){let R,o,_,l,e,c,m=(r[4]||"Browse Logo...")+"",u,k,n,N,i,P,b,w,C,S,v,s,d,D,U,E,V,K,z;return{c(){R=f("link"),o=f("link"),_=f("link"),l=q(),e=f("div"),c=f("label"),u=O(m),k=q(),n=f("input"),N=q(),i=f("input"),P=q(),b=f("div"),w=f("img"),S=q(),v=f("canvas"),s=q(),d=f("button"),D=O("Download"),U=q(),E=f("span"),V=O("\xA0"),this.h()},l(h){const I=ee('[data-svelte="svelte-129otzu"]',B.head);R=p(I,"LINK",{rel:!0,href:!0}),o=p(I,"LINK",{rel:!0,href:!0,crossorigin:!0}),_=p(I,"LINK",{href:!0,rel:!0}),I.forEach(g),l=L(h),e=p(h,"DIV",{class:!0});var y=M(e);c=p(y,"LABEL",{class:!0});var T=M(c);u=H(T,m),k=L(T),n=p(T,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),T.forEach(g),N=L(y),i=p(y,"INPUT",{class:!0,type:!0,min:!0,max:!0}),P=L(y),b=p(y,"DIV",{class:!0});var A=M(b);w=p(A,"IMG",{class:!0,src:!0,alt:!0}),S=L(A),v=p(A,"CANVAS",{class:!0,width:!0,height:!0}),M(v).forEach(g),A.forEach(g),s=L(y),d=p(y,"BUTTON",{class:!0});var G=M(d);D=H(G,"Download"),G.forEach(g),U=L(y),E=p(y,"SPAN",{class:!0});var Q=M(E);V=H(Q,"\xA0"),Q.forEach(g),y.forEach(g),this.h()},h(){t(R,"rel","preconnect"),t(R,"href","https://fonts.googleapis.com"),t(o,"rel","preconnect"),t(o,"href","https://fonts.gstatic.com"),t(o,"crossorigin","anonymous"),t(_,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap"),t(_,"rel","stylesheet"),t(n,"type","file"),t(n,"id","logo-input"),t(n,"accept","image/*"),t(n,"class","svelte-1qdvle0"),t(c,"class","file-button button svelte-1qdvle0"),t(i,"class","input button svelte-1qdvle0"),t(i,"type","number"),t(i,"min","0"),t(i,"max","9"),t(w,"class","logo-canvas svelte-1qdvle0"),te(w.src,C="")||t(w,"src",C),t(w,"alt",""),t(v,"class","logo-canvas svelte-1qdvle0"),t(v,"width",512),t(v,"height",512),v.hidden=!0,t(b,"class","canvas-wrapper svelte-1qdvle0"),t(d,"class","input button download-button svelte-1qdvle0"),t(E,"class","font-loader svelte-1qdvle0"),t(e,"class","wrapper svelte-1qdvle0")},m(h,I){a(B.head,R),a(B.head,o),a(B.head,_),x(h,l,I),x(h,e,I),a(e,c),a(c,u),a(c,k),a(c,n),r[8](n),a(e,N),a(e,i),J(i,r[2]),a(e,P),a(e,b),a(b,w),r[10](w),a(b,S),a(b,v),r[11](v),a(e,s),a(e,d),a(d,D),a(e,U),a(e,E),a(E,V),K||(z=[F(n,"change",r[5]),F(i,"input",r[9]),F(i,"change",r[6]),F(d,"click",r[7])],K=!0)},p(h,[I]){I&16&&m!==(m=(h[4]||"Browse Logo...")+"")&&le(u,m),I&4&&X(i.value)!==h[2]&&J(i,h[2])},i:W,o:W,d(h){g(R),g(o),g(_),h&&g(l),h&&g(e),r[8](null),r[10](null),r[11](null),K=!1,se(z)}}}function re(r,R,o){let _,l,e,c=1,m,u;ae(()=>{m=new Image,l&&(e=l.getContext("2d"),e&&(N(),o(3,u.src=l.toDataURL(),u),document.fonts.load("700 125px Roboto Mono").then(()=>{k();const s=setInterval(()=>{document.fonts.check("700 125px Roboto Mono")&&clearInterval(s),console.log("fontloader"),k()},100);setTimeout(()=>clearInterval(s),1e3)})))});const k=()=>{!e||!l||(N(),e.save(),e.beginPath(),e.arc(376,376,128,0,2*Math.PI),e.clip(),e.clearRect(0,0,l.width,l.height),e.restore(),e.fillStyle="#F04747",e.beginPath(),e.arc(376,376,86,0,2*Math.PI),e.fill(),e.fillStyle="white",e.font='700 125px "Roboto Mono"',e.fillText(c.toString(),338,420),o(3,u.src=l.toDataURL(),u))};let n;const N=()=>{!e||!l||(m.src!=""?(e.clearRect(0,0,l.width,l.height),e.drawImage(m,0,0,l.width,l.height)):(e.fillStyle="#1f1f1f",e.fillRect(0,0,l.width,l.height)))},i=s=>{const d=s.target.files[0];o(4,n=d.name);const D=new FileReader;D.readAsDataURL(d),D.onloadend=U=>{m.src=U.target.result,m.onload=()=>{k()}}},P=()=>{k()},b=()=>{const s=document.createElement("a"),d=n?(n.substring(0,n.lastIndexOf("."))||n)+"-april-fools.png":"discord-april-fools.png";s.download=d,s.href=l.toDataURL(),s.click()};function w(s){j[s?"unshift":"push"](()=>{_=s,o(0,_)})}function C(){c=X(this.value),o(2,c)}function S(s){j[s?"unshift":"push"](()=>{u=s,o(3,u)})}function v(s){j[s?"unshift":"push"](()=>{l=s,o(1,l)})}return[_,l,c,u,n,i,P,b,w,C,S,v]}class ce extends Y{constructor(R){super(),Z(this,R,re,oe,$,{})}}export{ce as default};
