import{S as $,i as tt,s as et,w as nt,k as N,e as h,t as O,x as st,m as D,U as lt,c as m,d as f,a as S,h as z,b as n,M as at,y as ot,g as H,G as o,V as Y,N as B,j as rt,W as Z,q as it,o as ct,B as ut,Q as ft,v as dt,X as pt,R as Q}from"../chunks/index-cc75fbfc.js";import{T as ht}from"../chunks/title-8d9c58f1.js";const{document:q}=pt;function mt(i){let v,d,b,e,t,k,l,r,y=(i[4]||"Browse Logo...")+"",g,j,_,T,c,U,w,I,C,a,u,E,L,V,K,M,x,A,G,W;return v=new ht({props:{text:"Discord April Fools"}}),{c(){nt(v.$$.fragment),d=N(),b=h("link"),e=h("link"),t=h("link"),k=N(),l=h("div"),r=h("label"),g=O(y),j=N(),_=h("input"),T=N(),c=h("input"),U=N(),w=h("div"),I=h("img"),a=N(),u=h("canvas"),E=N(),L=h("button"),V=O("Download"),K=N(),M=h("span"),x=O("\xA0"),this.h()},l(s){st(v.$$.fragment,s),d=D(s);const p=lt('[data-svelte="svelte-129otzu"]',q.head);b=m(p,"LINK",{rel:!0,href:!0}),e=m(p,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=m(p,"LINK",{href:!0,rel:!0}),p.forEach(f),k=D(s),l=m(s,"DIV",{class:!0});var R=S(l);r=m(R,"LABEL",{class:!0});var F=S(r);g=z(F,y),j=D(F),_=m(F,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),F.forEach(f),T=D(R),c=m(R,"INPUT",{class:!0,type:!0,min:!0,max:!0}),U=D(R),w=m(R,"DIV",{class:!0});var P=S(w);I=m(P,"IMG",{class:!0,src:!0,alt:!0}),a=D(P),u=m(P,"CANVAS",{class:!0,width:!0,height:!0}),S(u).forEach(f),P.forEach(f),E=D(R),L=m(R,"BUTTON",{class:!0});var X=S(L);V=z(X,"Download"),X.forEach(f),K=D(R),M=m(R,"SPAN",{class:!0});var J=S(M);x=z(J,"\xA0"),J.forEach(f),R.forEach(f),this.h()},h(){n(b,"rel","preconnect"),n(b,"href","https://fonts.googleapis.com"),n(e,"rel","preconnect"),n(e,"href","https://fonts.gstatic.com"),n(e,"crossorigin","anonymous"),n(t,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap"),n(t,"rel","stylesheet"),n(_,"type","file"),n(_,"id","logo-input"),n(_,"accept","image/*"),n(_,"class","svelte-y07jon"),n(r,"class","file-button button svelte-y07jon"),n(c,"class","input button svelte-y07jon"),n(c,"type","number"),n(c,"min","0"),n(c,"max","9"),n(I,"class","logo-image svelte-y07jon"),at(I.src,C="")||n(I,"src",C),n(I,"alt",""),n(u,"class","logo-canvas"),n(u,"width",512),n(u,"height",512),u.hidden=!0,n(w,"class","canvas-wrapper svelte-y07jon"),n(L,"class","input button download-button svelte-y07jon"),n(M,"class","font-loader svelte-y07jon"),n(l,"class","wrapper svelte-y07jon")},m(s,p){ot(v,s,p),H(s,d,p),o(q.head,b),o(q.head,e),o(q.head,t),H(s,k,p),H(s,l,p),o(l,r),o(r,g),o(r,j),o(r,_),i[8](_),o(l,T),o(l,c),Y(c,i[2]),o(l,U),o(l,w),o(w,I),i[10](I),o(w,a),o(w,u),i[11](u),o(l,E),o(l,L),o(L,V),o(l,K),o(l,M),o(M,x),A=!0,G||(W=[B(_,"change",i[5]),B(c,"input",i[9]),B(c,"change",i[6]),B(L,"click",i[7])],G=!0)},p(s,[p]){(!A||p&16)&&y!==(y=(s[4]||"Browse Logo...")+"")&&rt(g,y),p&4&&Z(c.value)!==s[2]&&Y(c,s[2])},i(s){A||(it(v.$$.fragment,s),A=!0)},o(s){ct(v.$$.fragment,s),A=!1},d(s){ut(v,s),s&&f(d),f(b),f(e),f(t),s&&f(k),s&&f(l),i[8](null),i[10](null),i[11](null),G=!1,ft(W)}}}function gt(i,v,d){let b,e,t,k=1,l,r;dt(()=>{l=new Image,e&&(t=e.getContext("2d"),t&&(j(),d(3,r.src=e.toDataURL(),r),document.fonts.load("700 125px Roboto Mono").then(()=>{y();const a=setInterval(()=>{document.fonts.check("700 125px Roboto Mono")&&clearInterval(a),y()},100);setTimeout(()=>clearInterval(a),1e3)})))});const y=()=>{!t||!e||(j(),t.save(),t.beginPath(),t.arc(376,376,128,0,2*Math.PI),t.clip(),t.clearRect(0,0,e.width,e.height),t.restore(),t.fillStyle="#F04747",t.beginPath(),t.arc(376,376,86,0,2*Math.PI),t.fill(),t.fillStyle="white",t.font='700 125px "Roboto Mono"',t.fillText(k.toString(),338,420),d(3,r.src=e.toDataURL(),r))};let g;const j=()=>{!t||!e||(l.src!=""?(t.clearRect(0,0,e.width,e.height),t.drawImage(l,0,0,e.width,e.height)):(t.fillStyle="#1f1f1f",t.fillRect(0,0,e.width,e.height)))},_=a=>{const u=a.target.files[0];d(4,g=u.name);const E=new FileReader;E.readAsDataURL(u),E.onloadend=L=>{l.src=L.target.result,l.onload=()=>{y()}}},T=()=>{y()},c=()=>{const a=document.createElement("a"),u=g?(g.substring(0,g.lastIndexOf("."))||g)+"-april-fools.png":"discord-april-fools.png";a.download=u,a.href=e.toDataURL(),a.click()};function U(a){Q[a?"unshift":"push"](()=>{b=a,d(0,b)})}function w(){k=Z(this.value),d(2,k)}function I(a){Q[a?"unshift":"push"](()=>{r=a,d(3,r)})}function C(a){Q[a?"unshift":"push"](()=>{e=a,d(1,e)})}return[b,e,k,r,g,_,T,c,U,w,I,C]}class bt extends ${constructor(v){super(),tt(this,v,gt,mt,et,{})}}export{bt as default};
