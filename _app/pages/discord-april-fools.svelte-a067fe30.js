import{S as $,i as tt,s as et,w as lt,k as L,e as h,t as j,x as st,m as N,R as nt,c as m,d,a as T,h as z,b as l,M as at,y as ot,g as H,G as o,T as Y,N as B,j as rt,U as Z,q as it,o as ct,B as ut,O as dt,v as ft,V as pt,W}from"../chunks/index-ff8f5515.js";import{T as ht}from"../chunks/title-c5dce62c.js";const{document:V}=pt;function mt(i){let v,f,b,e,t,R,n,r,w=(i[4]||"Browse Logo...")+"",g,D,_,S,c,U,I,y,C,a,u,E,k,K,O,M,x,A,G,J;return v=new ht({props:{text:"Discord April Fools"}}),{c(){lt(v.$$.fragment),f=L(),b=h("link"),e=h("link"),t=h("link"),R=L(),n=h("div"),r=h("label"),g=j(w),D=L(),_=h("input"),S=L(),c=h("input"),U=L(),I=h("div"),y=h("img"),a=L(),u=h("canvas"),E=L(),k=h("button"),K=j("Download"),O=L(),M=h("span"),x=j("\xA0"),this.h()},l(s){st(v.$$.fragment,s),f=N(s);const p=nt('[data-svelte="svelte-129otzu"]',V.head);b=m(p,"LINK",{rel:!0,href:!0}),e=m(p,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=m(p,"LINK",{href:!0,rel:!0}),p.forEach(d),R=N(s),n=m(s,"DIV",{class:!0});var q=T(n);r=m(q,"LABEL",{class:!0});var F=T(r);g=z(F,w),D=N(F),_=m(F,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),F.forEach(d),S=N(q),c=m(q,"INPUT",{class:!0,type:!0,min:!0,max:!0}),U=N(q),I=m(q,"DIV",{class:!0});var P=T(I);y=m(P,"IMG",{class:!0,src:!0,alt:!0}),a=N(P),u=m(P,"CANVAS",{class:!0,width:!0,height:!0}),T(u).forEach(d),P.forEach(d),E=N(q),k=m(q,"BUTTON",{class:!0});var Q=T(k);K=z(Q,"Download"),Q.forEach(d),O=N(q),M=m(q,"SPAN",{class:!0});var X=T(M);x=z(X,"\xA0"),X.forEach(d),q.forEach(d),this.h()},h(){l(b,"rel","preconnect"),l(b,"href","https://fonts.googleapis.com"),l(e,"rel","preconnect"),l(e,"href","https://fonts.gstatic.com"),l(e,"crossorigin","anonymous"),l(t,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap"),l(t,"rel","stylesheet"),l(_,"type","file"),l(_,"id","logo-input"),l(_,"accept","image/*"),l(_,"class","svelte-1qdvle0"),l(r,"class","file-button button svelte-1qdvle0"),l(c,"class","input button svelte-1qdvle0"),l(c,"type","number"),l(c,"min","0"),l(c,"max","9"),l(y,"class","logo-canvas svelte-1qdvle0"),at(y.src,C="")||l(y,"src",C),l(y,"alt",""),l(u,"class","logo-canvas svelte-1qdvle0"),l(u,"width",512),l(u,"height",512),u.hidden=!0,l(I,"class","canvas-wrapper svelte-1qdvle0"),l(k,"class","input button download-button svelte-1qdvle0"),l(M,"class","font-loader svelte-1qdvle0"),l(n,"class","wrapper svelte-1qdvle0")},m(s,p){ot(v,s,p),H(s,f,p),o(V.head,b),o(V.head,e),o(V.head,t),H(s,R,p),H(s,n,p),o(n,r),o(r,g),o(r,D),o(r,_),i[8](_),o(n,S),o(n,c),Y(c,i[2]),o(n,U),o(n,I),o(I,y),i[10](y),o(I,a),o(I,u),i[11](u),o(n,E),o(n,k),o(k,K),o(n,O),o(n,M),o(M,x),A=!0,G||(J=[B(_,"change",i[5]),B(c,"input",i[9]),B(c,"change",i[6]),B(k,"click",i[7])],G=!0)},p(s,[p]){(!A||p&16)&&w!==(w=(s[4]||"Browse Logo...")+"")&&rt(g,w),p&4&&Z(c.value)!==s[2]&&Y(c,s[2])},i(s){A||(it(v.$$.fragment,s),A=!0)},o(s){ct(v.$$.fragment,s),A=!1},d(s){ut(v,s),s&&d(f),d(b),d(e),d(t),s&&d(R),s&&d(n),i[8](null),i[10](null),i[11](null),G=!1,dt(J)}}}function gt(i,v,f){let b,e,t,R=1,n,r;ft(()=>{n=new Image,e&&(t=e.getContext("2d"),t&&(D(),f(3,r.src=e.toDataURL(),r),document.fonts.load("700 125px Roboto Mono").then(()=>{w();const a=setInterval(()=>{document.fonts.check("700 125px Roboto Mono")&&clearInterval(a),w()},100);setTimeout(()=>clearInterval(a),1e3)})))});const w=()=>{!t||!e||(D(),t.save(),t.beginPath(),t.arc(376,376,128,0,2*Math.PI),t.clip(),t.clearRect(0,0,e.width,e.height),t.restore(),t.fillStyle="#F04747",t.beginPath(),t.arc(376,376,86,0,2*Math.PI),t.fill(),t.fillStyle="white",t.font='700 125px "Roboto Mono"',t.fillText(R.toString(),338,420),f(3,r.src=e.toDataURL(),r))};let g;const D=()=>{!t||!e||(n.src!=""?(t.clearRect(0,0,e.width,e.height),t.drawImage(n,0,0,e.width,e.height)):(t.fillStyle="#1f1f1f",t.fillRect(0,0,e.width,e.height)))},_=a=>{const u=a.target.files[0];f(4,g=u.name);const E=new FileReader;E.readAsDataURL(u),E.onloadend=k=>{n.src=k.target.result,n.onload=()=>{w()}}},S=()=>{w()},c=()=>{const a=document.createElement("a"),u=g?(g.substring(0,g.lastIndexOf("."))||g)+"-april-fools.png":"discord-april-fools.png";a.download=u,a.href=e.toDataURL(),a.click()};function U(a){W[a?"unshift":"push"](()=>{b=a,f(0,b)})}function I(){R=Z(this.value),f(2,R)}function y(a){W[a?"unshift":"push"](()=>{r=a,f(3,r)})}function C(a){W[a?"unshift":"push"](()=>{e=a,f(1,e)})}return[b,e,R,r,g,_,S,c,U,I,y,C]}class bt extends ${constructor(v){super(),tt(this,v,gt,mt,et,{})}}export{bt as default};
