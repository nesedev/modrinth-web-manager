import{S as Y,i as Z,s as $,e as f,k as R,t as O,R as ee,c as p,d as g,m as k,a as M,h as G,b as t,M as te,G as a,g as z,T as J,N as B,j as le,U as X,E as Q,O as se,v as ae,V as ne,W as j}from"../chunks/index-ff8f5515.js";const{document:C}=ne;function oe(r){let q,o,_,l,e,c,v=(r[4]||"Browse Logo...")+"",u,N,n,L,i,S,b,w,F,U,m,s,d,D,A,E,V,K,H;return{c(){q=f("link"),o=f("link"),_=f("link"),l=R(),e=f("div"),c=f("label"),u=O(v),N=R(),n=f("input"),L=R(),i=f("input"),S=R(),b=f("div"),w=f("img"),U=R(),m=f("canvas"),s=R(),d=f("button"),D=O("Download"),A=R(),E=f("span"),V=O("\xA0"),this.h()},l(h){const I=ee('[data-svelte="svelte-4c8twq"]',C.head);q=p(I,"LINK",{rel:!0,href:!0}),o=p(I,"LINK",{rel:!0,href:!0,crossorigin:!0}),_=p(I,"LINK",{href:!0,rel:!0}),I.forEach(g),l=k(h),e=p(h,"DIV",{class:!0});var y=M(e);c=p(y,"LABEL",{class:!0});var P=M(c);u=G(P,v),N=k(P),n=p(P,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),P.forEach(g),L=k(y),i=p(y,"INPUT",{class:!0,type:!0,min:!0,max:!0}),S=k(y),b=p(y,"DIV",{class:!0});var T=M(b);w=p(T,"IMG",{class:!0,src:!0,alt:!0}),U=k(T),m=p(T,"CANVAS",{class:!0,width:!0,height:!0}),M(m).forEach(g),T.forEach(g),s=k(y),d=p(y,"BUTTON",{class:!0});var W=M(d);D=G(W,"Download"),W.forEach(g),A=k(y),E=p(y,"SPAN",{class:!0});var x=M(E);V=G(x,"\xA0"),x.forEach(g),y.forEach(g),this.h()},h(){C.title="NeseDev | Discord April Fools",t(q,"rel","preconnect"),t(q,"href","https://fonts.googleapis.com"),t(o,"rel","preconnect"),t(o,"href","https://fonts.gstatic.com"),t(o,"crossorigin","anonymous"),t(_,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap"),t(_,"rel","stylesheet"),t(n,"type","file"),t(n,"id","logo-input"),t(n,"accept","image/*"),t(n,"class","svelte-1qdvle0"),t(c,"class","file-button button svelte-1qdvle0"),t(i,"class","input button svelte-1qdvle0"),t(i,"type","number"),t(i,"min","0"),t(i,"max","9"),t(w,"class","logo-canvas svelte-1qdvle0"),te(w.src,F="")||t(w,"src",F),t(w,"alt",""),t(m,"class","logo-canvas svelte-1qdvle0"),t(m,"width",512),t(m,"height",512),m.hidden=!0,t(b,"class","canvas-wrapper svelte-1qdvle0"),t(d,"class","input button download-button svelte-1qdvle0"),t(E,"class","font-loader svelte-1qdvle0"),t(e,"class","wrapper svelte-1qdvle0")},m(h,I){a(C.head,q),a(C.head,o),a(C.head,_),z(h,l,I),z(h,e,I),a(e,c),a(c,u),a(c,N),a(c,n),r[8](n),a(e,L),a(e,i),J(i,r[2]),a(e,S),a(e,b),a(b,w),r[10](w),a(b,U),a(b,m),r[11](m),a(e,s),a(e,d),a(d,D),a(e,A),a(e,E),a(E,V),K||(H=[B(n,"change",r[5]),B(i,"input",r[9]),B(i,"change",r[6]),B(d,"click",r[7])],K=!0)},p(h,[I]){I&16&&v!==(v=(h[4]||"Browse Logo...")+"")&&le(u,v),I&4&&X(i.value)!==h[2]&&J(i,h[2])},i:Q,o:Q,d(h){g(q),g(o),g(_),h&&g(l),h&&g(e),r[8](null),r[10](null),r[11](null),K=!1,se(H)}}}function re(r,q,o){let _,l,e,c=1,v,u;ae(()=>{v=new Image,l&&(e=l.getContext("2d"),e&&(L(),o(3,u.src=l.toDataURL(),u),document.fonts.load("700 125px Roboto Mono").then(()=>{N();const s=setInterval(()=>{document.fonts.check("700 125px Roboto Mono")&&clearInterval(s),N()},100);setTimeout(()=>clearInterval(s),1e3)})))});const N=()=>{!e||!l||(L(),e.save(),e.beginPath(),e.arc(376,376,128,0,2*Math.PI),e.clip(),e.clearRect(0,0,l.width,l.height),e.restore(),e.fillStyle="#F04747",e.beginPath(),e.arc(376,376,86,0,2*Math.PI),e.fill(),e.fillStyle="white",e.font='700 125px "Roboto Mono"',e.fillText(c.toString(),338,420),o(3,u.src=l.toDataURL(),u))};let n;const L=()=>{!e||!l||(v.src!=""?(e.clearRect(0,0,l.width,l.height),e.drawImage(v,0,0,l.width,l.height)):(e.fillStyle="#1f1f1f",e.fillRect(0,0,l.width,l.height)))},i=s=>{const d=s.target.files[0];o(4,n=d.name);const D=new FileReader;D.readAsDataURL(d),D.onloadend=A=>{v.src=A.target.result,v.onload=()=>{N()}}},S=()=>{N()},b=()=>{const s=document.createElement("a"),d=n?(n.substring(0,n.lastIndexOf("."))||n)+"-april-fools.png":"discord-april-fools.png";s.download=d,s.href=l.toDataURL(),s.click()};function w(s){j[s?"unshift":"push"](()=>{_=s,o(0,_)})}function F(){c=X(this.value),o(2,c)}function U(s){j[s?"unshift":"push"](()=>{u=s,o(3,u)})}function m(s){j[s?"unshift":"push"](()=>{l=s,o(1,l)})}return[_,l,c,u,n,i,S,b,w,F,U,m]}class ce extends Y{constructor(q){super(),Z(this,q,re,oe,$,{})}}export{ce as default};
