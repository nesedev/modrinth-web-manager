import{S as $,i as tt,s as et,w as nt,k as R,e as h,t as O,x as st,m as D,T as lt,c as m,d as f,a as T,h as z,b as n,M as at,y as ot,g as H,G as o,U as Y,N as B,j as rt,V as Z,q as it,o as ct,B as ut,P as ft,v as dt,W as pt,X as W}from"../chunks/index-9a831cdb.js";import{T as ht}from"../chunks/title-665c6eb5.js";const{document:q}=pt;function mt(i){let v,d,b,e,t,L,l,r,y=(i[4]||"Browse Logo...")+"",g,j,_,P,c,S,w,I,A,a,u,E,N,V,K,M,x,U,G,X;return v=new ht({props:{text:"Discord April Fools"}}),{c(){nt(v.$$.fragment),d=R(),b=h("link"),e=h("link"),t=h("link"),L=R(),l=h("div"),r=h("label"),g=O(y),j=R(),_=h("input"),P=R(),c=h("input"),S=R(),w=h("div"),I=h("img"),a=R(),u=h("canvas"),E=R(),N=h("button"),V=O("Download"),K=R(),M=h("span"),x=O("\xA0"),this.h()},l(s){st(v.$$.fragment,s),d=D(s);const p=lt('[data-svelte="svelte-129otzu"]',q.head);b=m(p,"LINK",{rel:!0,href:!0}),e=m(p,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=m(p,"LINK",{href:!0,rel:!0}),p.forEach(f),L=D(s),l=m(s,"DIV",{class:!0});var k=T(l);r=m(k,"LABEL",{class:!0});var C=T(r);g=z(C,y),j=D(C),_=m(C,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),C.forEach(f),P=D(k),c=m(k,"INPUT",{class:!0,type:!0,min:!0,max:!0}),S=D(k),w=m(k,"DIV",{class:!0});var F=T(w);I=m(F,"IMG",{class:!0,src:!0,alt:!0}),a=D(F),u=m(F,"CANVAS",{class:!0,width:!0,height:!0}),T(u).forEach(f),F.forEach(f),E=D(k),N=m(k,"BUTTON",{class:!0});var J=T(N);V=z(J,"Download"),J.forEach(f),K=D(k),M=m(k,"SPAN",{class:!0});var Q=T(M);x=z(Q,"\xA0"),Q.forEach(f),k.forEach(f),this.h()},h(){n(b,"rel","preconnect"),n(b,"href","https://fonts.googleapis.com"),n(e,"rel","preconnect"),n(e,"href","https://fonts.gstatic.com"),n(e,"crossorigin","anonymous"),n(t,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap"),n(t,"rel","stylesheet"),n(_,"type","file"),n(_,"id","logo-input"),n(_,"accept","image/*"),n(_,"class","svelte-y07jon"),n(r,"class","file-button button svelte-y07jon"),n(c,"class","input button svelte-y07jon"),n(c,"type","number"),n(c,"min","0"),n(c,"max","9"),n(I,"class","logo-image svelte-y07jon"),at(I.src,A="")||n(I,"src",A),n(I,"alt",""),n(u,"class","logo-canvas"),n(u,"width",512),n(u,"height",512),u.hidden=!0,n(w,"class","canvas-wrapper svelte-y07jon"),n(N,"class","input button download-button svelte-y07jon"),n(M,"class","font-loader svelte-y07jon"),n(l,"class","wrapper svelte-y07jon")},m(s,p){ot(v,s,p),H(s,d,p),o(q.head,b),o(q.head,e),o(q.head,t),H(s,L,p),H(s,l,p),o(l,r),o(r,g),o(r,j),o(r,_),i[8](_),o(l,P),o(l,c),Y(c,i[2]),o(l,S),o(l,w),o(w,I),i[10](I),o(w,a),o(w,u),i[11](u),o(l,E),o(l,N),o(N,V),o(l,K),o(l,M),o(M,x),U=!0,G||(X=[B(_,"change",i[5]),B(c,"input",i[9]),B(c,"change",i[6]),B(N,"click",i[7])],G=!0)},p(s,[p]){(!U||p&16)&&y!==(y=(s[4]||"Browse Logo...")+"")&&rt(g,y),p&4&&Z(c.value)!==s[2]&&Y(c,s[2])},i(s){U||(it(v.$$.fragment,s),U=!0)},o(s){ct(v.$$.fragment,s),U=!1},d(s){ut(v,s),s&&f(d),f(b),f(e),f(t),s&&f(L),s&&f(l),i[8](null),i[10](null),i[11](null),G=!1,ft(X)}}}function gt(i,v,d){let b,e,t,L=1,l,r;dt(()=>{l=new Image,e&&(t=e.getContext("2d"),t&&(j(),d(3,r.src=e.toDataURL(),r),document.fonts.load("700 125px Roboto Mono").then(()=>{y();const a=setInterval(()=>{document.fonts.check("700 125px Roboto Mono")&&clearInterval(a),y()},100);setTimeout(()=>clearInterval(a),1e3)})))});const y=()=>{!t||!e||(j(),t.save(),t.beginPath(),t.arc(376,376,128,0,2*Math.PI),t.clip(),t.clearRect(0,0,e.width,e.height),t.restore(),t.fillStyle="#F04747",t.beginPath(),t.arc(376,376,86,0,2*Math.PI),t.fill(),t.fillStyle="white",t.font='700 125px "Roboto Mono"',t.fillText(L.toString(),338,420),d(3,r.src=e.toDataURL(),r))};let g;const j=()=>{!t||!e||(l.src!=""?(t.clearRect(0,0,e.width,e.height),t.drawImage(l,0,0,e.width,e.height)):(t.fillStyle="#1f1f1f",t.fillRect(0,0,e.width,e.height)))},_=a=>{const u=a.target.files[0];d(4,g=u.name);const E=new FileReader;E.readAsDataURL(u),E.onloadend=N=>{l.src=N.target.result,l.onload=()=>{y()}}},P=()=>{y()},c=()=>{const a=document.createElement("a"),u=g?(g.substring(0,g.lastIndexOf("."))||g)+"-april-fools.png":"discord-april-fools.png";a.download=u,a.href=e.toDataURL(),a.click()};function S(a){W[a?"unshift":"push"](()=>{b=a,d(0,b)})}function w(){L=Z(this.value),d(2,L)}function I(a){W[a?"unshift":"push"](()=>{r=a,d(3,r)})}function A(a){W[a?"unshift":"push"](()=>{e=a,d(1,e)})}return[b,e,L,r,g,_,P,c,S,w,I,A]}class bt extends ${constructor(v){super(),tt(this,v,gt,mt,et,{})}}export{bt as default};
