import{S as J,i as W,s as X,e as g,k as D,t as O,O as Y,c as m,d as _,m as E,a as P,h as H,b as e,N as Z,H as l,g as j,P as z,Q as A,j as x,R as Q,n as G,T as $,w as tt,U as et,V}from"../chunks/index-da0e81ae.js";const{document:B}=et;function st(r){let y,o,v,s,t,u,f=(r[4]||"Browse Logo...")+"",c,k,a,L,i,U,b,w,S,C,p,n,h,N,M,q;return{c(){y=g("link"),o=g("link"),v=g("link"),s=D(),t=g("div"),u=g("label"),c=O(f),k=D(),a=g("input"),L=D(),i=g("input"),U=D(),b=g("div"),w=g("img"),C=D(),p=g("canvas"),n=D(),h=g("button"),N=O("Download"),this.h()},l(d){const I=Y('[data-svelte="svelte-129otzu"]',B.head);y=m(I,"LINK",{rel:!0,href:!0}),o=m(I,"LINK",{rel:!0,href:!0,crossorigin:!0}),v=m(I,"LINK",{href:!0,rel:!0}),I.forEach(_),s=E(d),t=m(d,"DIV",{class:!0});var R=P(t);u=m(R,"LABEL",{class:!0});var F=P(u);c=H(F,f),k=E(F),a=m(F,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),F.forEach(_),L=E(R),i=m(R,"INPUT",{class:!0,type:!0,min:!0,max:!0}),U=E(R),b=m(R,"DIV",{class:!0});var T=P(b);w=m(T,"IMG",{class:!0,src:!0,alt:!0}),C=E(T),p=m(T,"CANVAS",{class:!0,width:!0,height:!0}),P(p).forEach(_),T.forEach(_),n=E(R),h=m(R,"BUTTON",{class:!0});var K=P(h);N=H(K,"Download"),K.forEach(_),R.forEach(_),this.h()},h(){e(y,"rel","preconnect"),e(y,"href","https://fonts.googleapis.com"),e(o,"rel","preconnect"),e(o,"href","https://fonts.gstatic.com"),e(o,"crossorigin","anonymous"),e(v,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap"),e(v,"rel","stylesheet"),e(a,"type","file"),e(a,"id","logo-input"),e(a,"accept","image/*"),e(a,"class","svelte-hu86n3"),e(u,"class","file-button button svelte-hu86n3"),e(i,"class","input button svelte-hu86n3"),e(i,"type","number"),e(i,"min","0"),e(i,"max","9"),e(w,"class","logo-canvas svelte-hu86n3"),Z(w.src,S="")||e(w,"src",S),e(w,"alt",""),e(p,"class","logo-canvas svelte-hu86n3"),e(p,"width",512),e(p,"height",512),p.hidden=!0,e(b,"class","canvas-wrapper svelte-hu86n3"),e(h,"class","input button download-button svelte-hu86n3"),e(t,"class","wrapper svelte-hu86n3")},m(d,I){l(B.head,y),l(B.head,o),l(B.head,v),j(d,s,I),j(d,t,I),l(t,u),l(u,c),l(u,k),l(u,a),r[8](a),l(t,L),l(t,i),z(i,r[2]),l(t,U),l(t,b),l(b,w),r[10](w),l(b,C),l(b,p),r[11](p),l(t,n),l(t,h),l(h,N),M||(q=[A(a,"change",r[5]),A(i,"input",r[9]),A(i,"change",r[6]),A(h,"click",r[7])],M=!0)},p(d,[I]){I&16&&f!==(f=(d[4]||"Browse Logo...")+"")&&x(c,f),I&4&&Q(i.value)!==d[2]&&z(i,d[2])},i:G,o:G,d(d){_(y),_(o),_(v),d&&_(s),d&&_(t),r[8](null),r[10](null),r[11](null),M=!1,$(q)}}}function nt(r,y,o){let v,s,t,u=1,f,c;tt(async()=>{f=new Image,t=s.getContext("2d"),t&&(L(),o(3,c.src=s.toDataURL(),c),document.fonts.load("700 125px Roboto Mono").then(()=>{k()}))});const k=()=>{!t||(L(),t.save(),t.beginPath(),t.arc(376,376,128,0,2*Math.PI),t.clip(),t.clearRect(0,0,s.width,s.height),t.restore(),t.fillStyle="#F04747",t.beginPath(),t.arc(376,376,86,0,2*Math.PI),t.fill(),t.fillStyle="white",t.font='700 125px "Roboto Mono"',t.fillText(u.toString(),338,420),o(3,c.src=s.toDataURL(),c))};let a;const L=()=>{!t||(f.src!=""?(t.clearRect(0,0,s.width,s.height),t.drawImage(f,0,0,s.width,s.height)):(t.fillStyle="#1f1f1f",t.fillRect(0,0,s.width,s.height)))},i=n=>{const h=n.target.files[0];o(4,a=h.name);const N=new FileReader;N.readAsDataURL(h),N.onloadend=M=>{f.src=M.target.result,f.onload=()=>{k()}}},U=()=>{k()},b=()=>{const n=document.createElement("a"),h=a?(a.substring(0,a.lastIndexOf("."))||a)+"-april-fools.png":"discord-april-fools.png";n.download=h,n.href=s.toDataURL(),n.click()};function w(n){V[n?"unshift":"push"](()=>{v=n,o(0,v)})}function S(){u=Q(this.value),o(2,u)}function C(n){V[n?"unshift":"push"](()=>{c=n,o(3,c)})}function p(n){V[n?"unshift":"push"](()=>{s=n,o(1,s)})}return[v,s,u,c,a,i,U,b,w,S,C,p]}class at extends J{constructor(y){super(),W(this,y,nt,st,X,{})}}export{at as default};
